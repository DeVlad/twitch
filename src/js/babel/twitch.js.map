{"version":3,"sources":["../twitch.js"],"names":["jsonp","url","callback","callbackName","Math","round","random","window","data","document","body","removeChild","script","createElement","src","indexOf","appendChild","channels","channel","channelData","$","append","renderResult","display_name","logo","name","isStreaming","streamData","stream","status"],"mappings":";;AAAA,SAASA,KAAT,CAAeC,GAAf,EAAoBC,QAApB,EAA8B;AAC1B,QAAIC,eAAe,oBAAoBC,KAAKC,KAAL,CAAW,SAASD,KAAKE,MAAL,EAApB,CAAvC;AACAC,WAAOJ,YAAP,IAAuB,UAAUK,IAAV,EAAgB;AACnC,eAAOD,OAAOJ,YAAP,CAAP;AACAM,iBAASC,IAAT,CAAcC,WAAd,CAA0BC,MAA1B;AACAV,iBAASM,IAAT;AACH,KAJD;AAKA,QAAII,SAASH,SAASI,aAAT,CAAuB,QAAvB,CAAb;AACAD,WAAOE,GAAP,GAAab,OAAOA,IAAIc,OAAJ,CAAY,GAAZ,KAAoB,CAApB,GAAwB,GAAxB,GAA8B,GAArC,IAA4C,WAA5C,GAA0DZ,YAAvE;AACAM,aAASC,IAAT,CAAcM,WAAd,CAA0BJ,MAA1B;AACH;AACD;AACA;AACA,IAAIK,WAAW,CAAC,cAAD,EAAiB,SAAjB,EAA4B,YAA5B,CAAf;AACA;;;;;;AACA,yBAAoBA,QAApB,8HAA8B;AAAA,YAArBC,OAAqB;;AAC1B;AACAlB,cAAM,mDAAmDkB,OAAzD,EAAkE,UAAUC,WAAV,EAAuB;AACrF;AACA;AACA;AACAC,cAAE,UAAF,EAAcC,MAAd,CAAqBC,aAAaH,YAAYI,YAAzB,EAAuCJ,YAAYK,IAAnD,EAAyDL,YAAYlB,GAArE,CAArB;AACH,SALD;AAMA;AACH;AACD;;;;;;;;;;;;;;;;AACA,SAASqB,YAAT,CAAsBG,IAAtB,EAA4BD,IAA5B,EAAkCvB,GAAlC,EAAuC;AACnC;AACA,WAAO,6BAA6BwB,IAA7B,GAAoC,yBAApC,GAAgE,GAAhE,GAAsExB,GAAtE,GAA4E,GAA5E,GAAkF,KAAlF,GAA0F,WAA1F,GAAwG,GAAxG,GAA8GuB,IAA9G,GAAqH,GAArH,GAA2H,GAA3H,GAAiI,MAAjI,GAA0IC,IAA1I,GAAiJ,OAAjJ,GAA2J,MAA3J,GAAoK,SAA3K;AACH;AACD;AACA,SAASC,WAAT,CAAqBR,OAArB,EAA8B;AAC1BlB,UAAM,kDAAkDkB,OAAxD,EAAiE,UAAUS,UAAV,EAAsB;AACnF,YAAIA,WAAWC,MAAX,IAAqB,IAAzB,EAA+B;AAC3B;AACA,mBAAO,EAAP;AACH,SAHD,MAIK;AACD;AACA,mBAAOD,WAAWC,MAAX,CAAkBV,OAAlB,CAA0BW,MAAjC;AACH;AACJ,KATD;AAUH","file":"twitch.js","sourcesContent":["function jsonp(url, callback) {\n    var callbackName = 'jsonp_callback_' + Math.round(100000 * Math.random());\n    window[callbackName] = function (data) {\n        delete window[callbackName];\n        document.body.removeChild(script);\n        callback(data);\n    };\n    var script = document.createElement('script');\n    script.src = url + (url.indexOf('?') >= 0 ? '&' : '?') + 'callback=' + callbackName;\n    document.body.appendChild(script);\n}\n//var channels = [\"freecodecamp\", \"ESL_SC2\", \"OgamingSC2\", \"cretetion\", \"storbeck\", \"habathcx\", \"RobotCaleb\", \"noobs2ninjas\"];\n// TODO: Missing chanells\nvar channels = [\"freecodecamp\", \"ESL_SC2\", \"OgamingSC2\"];\n// Ugly multiple api hits\nfor (var channel of channels) {\n    //console.log(channel);\n    jsonp('https://wind-bow.gomix.me/twitch-api/channels/' + channel, function (channelData) {\n        //console.log(channelData.display_name);\n        //console.log(channelData.logo);\n        //console.log(channelData.url);\n        $(\".content\").append(renderResult(channelData.display_name, channelData.logo, channelData.url));\n    });\n    // isStreaming(channel);\n}\n// Render View\nfunction renderResult(name, logo, url) {\n    // Display in clickable div blocks    \n    return '<div class=\"result\" id=\"' + name + '\" onclick=\"window.open(' + \"'\" + url + \"'\" + ')\">' + \"<img src=\" + \"'\" + logo + \"'\" + \">\" + '<h3>' + name + '</h3>' + '<br>' + '</.div>';\n}\n// Is Live\nfunction isStreaming(channel) {\n    jsonp('https://wind-bow.gomix.me/twitch-api/streams/' + channel, function (streamData) {\n        if (streamData.stream == null) {\n            //console.log(\"no\");\n            return \"\";\n        }\n        else {\n            //console.log(streamData.stream.channel.status);\n            return streamData.stream.channel.status;\n        }\n    });\n}"]}