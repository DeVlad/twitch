/*! twitch 2017-10-17 */

"use strict";function renderResult(r,e,t,o){var n="offline";return""===o&&"#"!=t||(n="#"==t?"dead":"live"),'<div class="result" id="'+r+'" onclick="window.open(\''+t+"')\"><img class='"+n+"' src='"+e+"'><h2>"+r+"</h2><h3>"+o+"</h3></.div>"}var channelUrl="https://wind-bow.gomix.me/twitch-api/channels/",streamUrl="https://wind-bow.gomix.me/twitch-api/streams/",proxy="https://cors-anywhere.herokuapp.com/",isStreamingLive="",channels=["freecodecamp","ESL_SC2","OgamingSC2","cretetion","habathcx","RobotCaleb","noobs2ninjas","comster404","brunofin"],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=channels[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var channel=_step.value,promiseGetChannel=new Promise(function(r,e){r(fetch(proxy+channelUrl+channel).then(function(r){return r.json()}).then(function(r){return r})),e(Error("Error: fetch channel from API failed"))}),promiseGetStream=new Promise(function(r,e){r(fetch(proxy+streamUrl+channel).then(function(r){return r.json()}).then(function(r){return r})),e(Error("Error: fetch stream from API failed"))});Promise.all([promiseGetChannel,promiseGetStream]).then(function(r){r[0].hasOwnProperty("error")&&(r[0].display_name=r[0].message,r[0].logo="http://placehold.it/64x64",r[0].url="#"),isStreamingLive=null===r[1].stream?"":r[1].stream.channel.status,$(".content").append(renderResult(r[0].display_name,r[0].logo,r[0].url,isStreamingLive))})}}catch(r){_didIteratorError=!0,_iteratorError=r}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}